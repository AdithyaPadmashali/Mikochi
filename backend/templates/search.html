<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Mikochi</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
        <link rel="stylesheet" href="https://unpkg.com/bulmaswatch/solar/bulmaswatch.min.css">
        <link href='https://css.gg/css' rel='stylesheet'>
        <style>
            .icon {
                margin: 0.1em;
                display: inline-block;
            }
        </style>
    </head>
    <body>
        <main>
            <div class="container">
                <div class="columns is-centered is-vcentered is-mobile">
                    <div class="column is-narrow has-text-centered">
                        <nav class="navbar" role="navigation" aria-label="main navigation">
                              <div class="navbar-brand">
                                <a class="navbar-item" href="/browse/">
                                <!-- TODO: logo -->
                                    Mikochi
                                </a>
                              </div>
                        </nav>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Name</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{ range $path, $dirEntry := .result }}
                                <tr>
                                    {{ if $dirEntry.IsDir }}
                                    <td><i class="icon gg-folder"></i></i></td>
                                    {{ else }}
                                    <td><i class="icon gg-file"></i></td>
                                    {{ end }}

                                    {{ if $dirEntry.IsDir }}
                                    <!-- TODO: send to browse: -->
                                    <td><a href="/browse/{{ $path }}/">{{ .Name }}</a></td>
                                    {{ else }}
                                    <td>{{ $dirEntry.Name }}</td>
                                    {{ end }}

                                    {{ if $dirEntry.IsDir }}
                                    <td><i class="icon gg-arrow-right-o"></i></td>
                                    {{ else }}
                                    <td><i class="icon gg-arrow-down-o"></i><i class="icon gg-copy"></i></td>
                                    {{ end}}
                                </tr>
                                {{ end }}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </body>
</html>
